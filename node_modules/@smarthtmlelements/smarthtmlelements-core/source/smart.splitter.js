
/* Smart HTML Elements v1.1.0 (2018-June) 
Copyright (c) 2011-2018 jQWidgets. 
License: https://htmlelements.com/license/ */

Smart("smart-splitter-item",class extends Smart.ContentElement{static get properties(){return{collapsed:{value:!1,type:"boolean"},collapsible:{value:!1,type:"boolean"},locked:{value:!1,type:"boolean"},max:{value:"",type:"string"},min:{value:"",type:"string"},size:{value:"",type:"string"}}}template(){return`<div id="container">
                    <div class="smart-header" id="header"></div>
                    <div class="smart-content" id="content" inner-h-t-m-l="[[innerHTML]]">
                        <content></content>
                    </div>
                </div>`}static get listeners(){return{mouseenter:"_mouseEventsHandler",mouseleave:"_mouseEventsHandler",styleChanged:"_styleChangedEventHandler"}}propertyChangedHandler(e,t,i){const s=this;switch(e){case"collapsed":s._ignorePropertyValue=!0,i?s.collapse():s.expand();break;case"collapsible":s._updateNearSplitterBars();break;case"size":case"min":case"max":s._setSize(e,i);break;default:super.propertyChangedHandler(e,t,i);}}attached(){super.attached();const e=this;e._sizeLimits||(e._sizeLimits={});const t=getComputedStyle(e);e.min||(e._sizeLimits.minWidth=parseFloat(t.getPropertyValue("min-width"))||0,e._sizeLimits.minHeight=parseFloat(t.getPropertyValue("min-height"))||0),e.max||(e._sizeLimits.maxWidth=parseFloat(t.getPropertyValue("max-width"))||0,e._sizeLimits.maxHeight=parseFloat(t.getPropertyValue("max-height"))||0)}collapse(e){const t=this;if(!t.collapsible)return void(t.collapsed=!1);if(t._ignorePropertyValue||!t.collapsed){const i=t.closest("smart-splitter");if(!i)return;t.style.transition="",t._sizeBeforeCollapse||(t._sizeBeforeCollapse=t[i._measurements.size]);const s=i._items.indexOf(t);s===i._items.length-1?e=!0:0===s&&(e=!1);const a=e?-1:1;let n=s+a,r=i._items[n];for(;r&&!!r.collapsed;)n+=a,r=i._items[n];if(!r)return void(t.collapsed=!1);delete t._ignorePropertyValue,r._sizeBeforeCollapse||(r._sizeBeforeCollapse=r[i._measurements.size]);let m;t.previousElementSibling instanceof Smart.SplitterBar?m=t.previousElementSibling:t.nextElementSibling instanceof Smart.SplitterBar&&(m=t.nextElementSibling);const o=r[i._measurements.size]+t[i._measurements.size],l=m?m[i._measurements.size]:t._sizeLimits[i._measurements.minDimension];if(o&&o-l<l)return void(t.collapsed=!1);r._sizeBeforeCollapse+=t._sizeBeforeCollapse,r._sizeLimits&&r._sizeLimits[i._measurements.maxDimension]&&o>r._sizeLimits[i._measurements.maxDimension]&&(r._sizeLimits.ignoreUpdate=!0,r.style[i._measurements.maxDimension]=r._sizeBeforeCollapse+"px"),r.style[i._measurements.dimension]=r._sizeBeforeCollapse+"px",t.style[i._measurements.dimension]=t.style[i._measurements.minDimension]="0",t.style.padding="0",t._neighbourItem=r,t.collapsed=!0,t.$.fireEvent("collapse",{itemIndex:i._items.indexOf(t)}),e?(t.previousElementSibling.itemCollapsed=!0,t.previousElementSibling.showFarButton=!(t.previousElementSibling.showNearButton=!1)):(t.nextElementSibling.itemCollapsed=!0,t.nextElementSibling.showNearButton=!(t.nextElementSibling.showFarButton=!1))}}expand(){const e=this;if(e._ignorePropertyValue||e.collapsed){const t=e.closest("smart-splitter");if(!t)return void(e.collapsed=!0);if(!e._neighbourItem)return void(e.collapsed=!0);if(delete e._ignorePropertyValue,!e._neighbourItem._ignorePropertyValue&&e._neighbourItem.collapsed){let i=t._items.indexOf(e._neighbourItem);const s=t._items.indexOf(e)>t._items.indexOf(e._neighbourItem)?-1:1;for(e._neighbourItem=t._items[i];e._neighbourItem&&!!e._neighbourItem.collapsed;)i+=s,e._neighbourItem=t._items[i]}if(!e._neighbourItem)return void(e.collapsed=!0);const i=e._neighbourItem._sizeBeforeCollapse,s=e._sizeLimits[t._measurements.minDimension];if(i&&i-s<e._neighbourItem._sizeLimits[t._measurements.minDimension])return void(e.collapsed=!0);if(!e._neighbourItem._paddings){const i=getComputedStyle(e._neighbourItem);e._neighbourItem._paddings=(parseFloat(i.getPropertyValue("padding-"+t._measurements.position))||0)+(parseFloat(i.getPropertyValue("padding-"+t._measurements.position2))||0)}const a=Math.min(e._sizeBeforeCollapse,i-e._neighbourItem._paddings);e.style.padding="",e.style[t._measurements.minDimension]=e.min?e._sizeLimits[t._measurements.minDimension]+"px":"",e.style[t._measurements.dimension]=(e._sizeBeforeCollapse=a)+"px",e._neighbourItem.style[t._measurements.dimension]=(e._neighbourItem._sizeBeforeCollapse=Math.max(e._neighbourItem._sizeLimits[t._measurements.minDimension],i-a))+"px",e._neighbourItem._sizeLimits[t._measurements.maxDimension]&&(e._neighbourItem.style[t._measurements.maxDimension]=e._neighbourItem._sizeLimits[t._measurements.maxDimension]+"px"),e.collapsed=!1,e.$.fireEvent("expand",{itemIndex:t._items.indexOf(e)}),t._items.indexOf(e)>t._items.indexOf(e._neighbourItem)?(e.previousElementSibling.itemCollapsed=!1,e.previousElementSibling.showNearButton=e._neighbourItem.collapsible):(e.nextElementSibling.itemCollapsed=!1,e.nextElementSibling.showFarButton=e._neighbourItem.collapsible);const n=t._items[t._items.indexOf(e)-1],r=t._items[t._items.indexOf(e)+1];if(n){const t=n.nextElementSibling;t&&t instanceof Smart.SplitterBar&&(n.collapsed?t.showNearButton=e.collapsible:(t.itemCollapsed=!1,t.showNearButton=n.collapsible,t.showFarButton=e.collapsible))}if(r){const t=r.previousElementSibling;t&&t instanceof Smart.SplitterBar&&(r.collapsed?t.showFarButton=r.collapsed:(t.itemCollapsed=!1,t.showNearButton=e.collapsible,t.showFarButton=r.collapsible))}delete e._neighbourItem}}lock(){const e=this;e.locked=!0}unlock(){const e=this;e.locked=!1}ready(){super.ready();const e=this;if(e._sizeLimits={},e._sizeLimits.minWidth=e._sizeLimits.minHeight=isNaN(parseFloat(e.min))?0:parseFloat(e.min),e._sizeLimits.maxWidth=e._sizeLimits.maxHeight=isNaN(parseFloat(e.max))?0:parseFloat(e.max),e.size){const t=e.closest("smart-splitter"),i=isNaN(parseFloat(e.size))?0:parseFloat(e.size)+"px";t&&t.isCompleted?e.style[t._measurements.dimension]=i:e.style.width=e.style.height=i}e.collapsed&&(e._ignorePropertyValue=!0,e.collapse()),e._updateNearSplitterBars()}_expand(){const e=this;if(e._neighbourItem&&e._neighbourItem.parentElement)return void e.expand();const t=e.closest("smart-splitter");t&&(delete e._neighbourItem,e.collapsed=!1,e.$.fireEvent("expand",{itemIndex:t._items.indexOf(e)}),e.style[t._measurements.minDimension]=e.min?e._sizeLimits[t._measurements.minDimension]+"px":"",e.style[t._measurements.dimension]=e._sizeBeforeCollapse+"px",2>t._items.length||e.previousElementSibling instanceof Smart.SplitterBar&&(e.previousElementSibling.itemCollapsed=!1,e.previousElementSibling.showNearButton=t._items[t._items.indexOf(e)-1].collapsible))}_mouseEventsHandler(e){const t=this,i=t.closest("smart-splitter");i&&!i.disabled&&("mouseenter"===e.type?this.$.addClass("hovered"):this.$.removeClass("hovered"))}_setSize(e,t){const i=this;if(!i.locked){const s=i.closest("smart-splitter");s&&(t=isNaN(parseFloat(t))?0:parseFloat(t),"size"===e?(i.style[s._measurements.dimension]=(i._sizeBeforeCollapse=t)+"px",i._originalSize&&(i._originalSize=t)):"min"===e?(i.style[s._measurements.minDimension]=(i.collapsed?"":t)+"px",i._sizeLimits.minWidth=i._sizeLimits.minHeight=t,i.style["min"+s._measurements.restricredDimension]=""):"max"===e?(i.style[s._measurements.maxDimension]=t+"px",i.style["max"+s._measurements.restricredDimension]=""):void 0,s._validateItemSize(!0))}}_styleChangedEventHandler(e){const t=this;if(!t.locked){if(t._sizeLimits.ignoreUpdate)return void delete t._sizeLimits.ignoreUpdate;if(!t.collapsed){const i=t.closest("smart-splitter");e.detail.styleProperties["min-width"]?t._sizeLimits.minWidth=parseFloat(e.detail.styleProperties["min-width"][i&&"horizontal"===i.orientation?"oldValue":"value"])||0:e.detail.styleProperties["max-width"]?t._sizeLimits.maxWidth=parseFloat(e.detail.styleProperties["max-width"][i&&"horizontal"===i.orientation?"oldValue":"value"])||0:e.detail.styleProperties["min-height"]?t._sizeLimits.minHeight=parseFloat(e.detail.styleProperties["min-height"][i&&"horizontal"===i.orientation?"value":"oldValue"])||0:e.detail.styleProperties["max-height"]&&(t._sizeLimits.maxHeight=parseFloat(e.detail.styleProperties["max-height"][i&&"horizontal"===i.orientation?"value":"oldValue"])||0)}}}_updateNearSplitterBars(){const e=this;e.previousElementSibling instanceof Smart.SplitterBar&&(e.previousElementSibling.showFarButton=e.collapsible),e.nextElementSibling instanceof Smart.SplitterBar&&(e.nextElementSibling.showNearButton=e.collapsible)}}),Smart("smart-splitter-bar",class extends Smart.BaseElement{static get properties(){return{showNearButton:{value:!1,type:"boolean"},showFarButton:{value:!1,type:"boolean"},itemCollapsed:{value:!1,type:"boolean"},locked:{value:!1,type:"boolean"}}}template(){return`<div id="container" >
                    <div class="smart-splitter-far-collapse-button" id="farCollapseButton">
                        <span id="arrowNear">&#xe804</span>
                    </div>
                    <div class="smart-splitter-resize-button" id="resizeButton">
                        <span></span>
                    </div>
                    <div class="smart-splitter-near-collapse-button" id="nearCollapseButton">
                        <span id="arrowFar">&#xe804</span>
                    </div>
                </div>`}static get listeners(){return{mouseover:"_mouseEventsHandler",mouseout:"_mouseEventsHandler",focus:"_focusEventHandler",blur:"_focusEventHandler"}}propertyChangedHandler(e,t,i){const s=this;switch(e){case"unfocusable":s._setFocusable();break;default:super.propertyChangedHandler(e,t,i);}}ready(){super.ready();const e=this;e._setFocusable()}hide(){const e=this;e.$.addClass("smart-hidden");const t=e.closest("smart-splitter");t&&t._autoFitLastItem()}show(){const e=this;e.$.removeClass("smart-hidden");const t=e.closest("smart-splitter");t&&t._autoFitLastItem()}lock(){const e=this;e.locked=e.unfocusable=!0;e.showNearButton||e.showFarButton||e._setFocusable()}unlock(){const e=this;e.locked=e.unfocusable=!1,e._setFocusable()}_focusEventHandler(e){const t=this,i=t.closest("smart-splitter");i&&!i.disabled&&("focus"===e.type?this.setAttribute("focused",""):this.removeAttribute("focused"))}_setFocusable(){const e=this;return e.disabled||e.unfocusable?void e.removeAttribute("tabindex"):void(e.tabIndex=0<e.tabIndex?e.tabIndex:0)}_mouseEventsHandler(e){const t=this,i=t.closest("smart-splitter");return i&&i.disabled?void 0:e.target.closest(".smart-splitter-far-collapse-button")===t.$.farCollapseButton?void("mouseover"===e.type?t.$farCollapseButton.addClass("hovered"):t.$farCollapseButton.removeClass("hovered")):e.target.closest(".smart-splitter-near-collapse-button")===t.$.nearCollapseButton?void("mouseover"===e.type?t.$nearCollapseButton.addClass("hovered"):t.$nearCollapseButton.removeClass("hovered")):void(e.target.closest(".smart-splitter-resize-button")===t.$.resizeButton&&("mouseover"===e.type?t.$resizeButton.addClass("hovered"):t.$resizeButton.removeClass("hovered")),e.target.closest("smart-splitter-bar")===t&&("mouseover"===e.type?t.$.addClass("hovered"):t.$.removeClass("hovered")))}}),Smart("smart-splitter",class extends Smart.ContentElement{static get properties(){return{dataSource:{value:null,type:"object?",reflectToAttribute:!1},orientation:{allowedValues:["horizontal","vertical"],value:"vertical",type:"string"},resizeMode:{allowedValues:["none","adjacent","end","proportional"],value:"adjacent",type:"string"},resizeStep:{value:5,type:"number"},liveResize:{value:!1,type:"boolean"},messages:{extend:!0,value:{en:{invalidIndex:"{{elementType}}: \"{{method}}\" method accepts an index of type number.",indexOutOfBound:"{{elementType}}: Out of bound index/indexes in \"{{method}}\" method.",invalidNode:"{{elementType}}: \"{{method}}\" method accepts an object or an array of objects as it's second parameter.",invalidSettings:"{{elementType}}: \"{{method}}\" method accepts a string or an object as it's second parameter."}},type:"object"}}}static get listeners(){return{focus:"_focusHandler",blur:"_focusHandler",down:"_downHandler","document.move":"_documentMoveHandler","document.up":"_documentUpHandler",keydown:"_keyDownHandler",resize:"_resizeEventHandler"}}template(){return`<div id="container">
                    <content></content>
                </div>`}propertyChangedHandler(e,t,i){const s=this;switch(e){case"dataSource":s._createLayout();break;case"resizeMode":delete s._dragDetails;break;case"orientation":{s._setMeasurements(),s.setAttribute("orientation-change","");for(let e=0;e<s._items.length;e++)s._items[e].style[s._measurements.dimension]=s._items[e]["offset"+s._measurements.restricredDimension]+"px",s._items[e].style[s._measurements.restricredDimension.toLowerCase()]="100%",s._items[e].style["max"+s._measurements.restricredDimension]="none",s._items[e].style["min"+s._measurements.restricredDimension]="none",s._items[e].style[s._measurements.maxDimension]=s._items[e].max?s._items[e]._sizeLimits[s._measurements.maxDimension]+"px":"",s._items[e].collapsed?(s._items[e].style.minWidth=s._items[e].style.minHeight="",s._items[e].style[s._measurements.minDimension]="0"):s._items[e].style[s._measurements.minDimension]=s._items[e].min?s._items[e]._sizeLimits[s._measurements.minDimension]+"px":"";s._validateItemSize(),s.removeAttribute("orientation-change");break}case"unfocusable":s._setFocusable();break;default:super.propertyChangedHandler(e,t,i);}}appendChild(e){const t=this;if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("smart-resize-trigger-container")){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}return e&&e instanceof Smart.SplitterItem?void t.insertBefore(e):void t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"appendChild",node:"node"}))}insertBefore(e,t){const i=this;if(!i.isCompleted){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(i,e.concat(Array.prototype.slice.call(arguments)))}if(!e)return void i.error(i.localize("invalidNode",{elementType:i.nodeName.toLowerCase(),method:"insertBefore",node:"newNode/referenceNode"}));if(t&&!(t instanceof Smart.SplitterItem))return void i.error(i.localize("invalidNode",{elementType:i.nodeName.toLowerCase(),method:"insertBefore",node:"newNode/referenceNode"}));e.style[i._measurements.restricredDimension.toLowerCase()]="100%",e.style["max"+i._measurements.restricredDimension]="none",e.style[i._measurements.maxDimension]=e._sizeLimits&&e.max?e._sizeLimits[i._measurements.maxDimension]+"px":"",e.collapsed?(e.style.minWidth=e.style.minHeight="",e.style[i._measurements.minDimension]="0"):e.style[i._measurements.minDimension]=e._sizeLimits&&e.min?e._sizeLimits[i._measurements.minDimension]+"px":"",i.$.content.insertBefore(e,t);const s=function(){for(let t=e.previousElementSibling;t;){if(t instanceof Smart.SplitterItem)return t;t=t.previousElementSibling}}();let a;e.previousElementSibling instanceof Smart.SplitterItem?(a=i._createBar(e.previousElementSibling),i.$.container.insertBefore(a,e)):e.nextElementSibling instanceof Smart.SplitterItem&&(a=i._createBar(e),i.$.container.insertBefore(a,e.nextElementSibling)),i._resizeHostItemOnInsert(s,e,a),i._items&&i._items.splice(t?i._items.indexOf(t):i._items.length,0,e),e.isCompleted?i._validateItemSize():(e.__onCompleted=e._onCompleted,e._onCompleted=function(){e.__onCompleted&&(e.__onCompleted(),delete e.__onCompleted),i._validateItemSize()})}_resizeHostItemOnInsert(e,t,i){const s=this;if(e){const a=e[s._measurements.size]-t[s._measurements.size]-i[s._measurements.size],n=Math.max(e._sizeLimits[s._measurements.minDimension],a);if(s._items.indexOf(e)===s._items.length-1){e.style[s._measurements.maxDimension]=e.max?isNaN(parseFloat(e.max))?"":parseFloat(e.max)+"px":"";const i=e.style[s._measurements.maxDimension]?parseFloat(e.style[s._measurements.maxDimension]):0;t.size?e.style[s._measurements.dimension]=(e._sizeBeforeCollapse=i?Math.min(i,n):n)+"px":(e.style[s._measurements.dimension]=e.size?isNaN(parseFloat(e.size))?0:parseFloat(e.size)+"px":"",e._sizeBeforeCollapse=e.style[s._measurements.size])}}}removeChild(e){function t(e,t,i){let a=e,n=s._items[a];for(;n&&!!n.collapsed;)n=s._items[a+=i];return n}const s=this;if(!s.isCompleted||e instanceof HTMLElement&&e.classList.contains("smart-resize-trigger-container")){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(s,e.concat(Array.prototype.slice.call(arguments)))}if(!e||!(e instanceof Smart.SplitterItem))return void s.error(s.localize("invalidNode",{elementType:s.nodeName.toLowerCase(),method:"removeChild",node:"node"}));if(!s._items)return;let a=s._items.indexOf(e);if(e.collapsed?s.$.container.removeChild(s._items.indexOf(e._neighbourItem)>a?e.nextElementSibling:e.previousElementSibling):e.previousElementSibling instanceof Smart.SplitterBar?s.$.container.removeChild(e.previousElementSibling):e.nextElementSibling instanceof Smart.SplitterBar&&s.$.container.removeChild(e.nextElementSibling),s._items.splice(a,1),a=Math.max(0,a-1),s.$.content.removeChild(e),1===s._items.length&&s._items[0].collapsed||0<s._items.length&&0>s._items.map(e=>e.collapsed).indexOf(!1)){const e=s._items[s._items.length-1];let t=e.context;e.context=e,e._expand(),e.context=t}for(let n=0;n<s._items.length;n++)if(s._items[n].collapsed&&s._items[n]._neighbourItem===e){let e,i;s._items[n]._neighbourItem=t(a,s._items[n],1),s._items[n]._neighbourItem?(e=s._items[n].nextElementSibling,e&&(i=e.context,e.context=e,e.itemCollapsed=!0,e.showNearButton=!(e.showFarButton=!1),e.context=i)):(s._items[n]._neighbourItem=t(a,s._items[n],-1),e=s._items[n].previousElementSibling,e&&(i=e.context,e.context=e,e.itemCollapsed=!0,e.showFarButton=!(e.showNearButton=!1),e.context=i))}s._autoFitLastItem()}collapse(e,t){const i=this;return e instanceof Smart.SplitterItem&&e.closest("smart-splitter")===i?void e.collapse(t):"number"==typeof e&&i._items[e]?void(e=i._items[e],e.isCompleted?e.collapse(t):(e.__onCompleted=e._onCompleted,e._onCompleted=function(){e.__onCompleted&&(e.__onCompleted(),delete e.__onCompleted),e.collapse(t)})):void i.error(i.localize("invalidIndex",{elementType:i.nodeName.toLowerCase(),method:"collapse"}))}expand(e){const t=this;return e instanceof Smart.SplitterItem&&e.closest("smart-splitter")===t?void e.expand():"number"==typeof e&&t._items[e]?void(e=t._items[e],e.isCompleted?e.expand():(e.__onCompleted=e._onCompleted,e._onCompleted=function(){e.__onCompleted&&(e.__onCompleted(),delete e.__onCompleted),e.expand()})):void t.error(t.localize("invalidIndex",{elementType:t.nodeName.toLowerCase(),method:"expand"}))}hideBar(e){const t=this;return e instanceof Smart.SplitterBar&&e.closest("smart-splitter")===t?void e.hide():"number"==typeof e?(e=t.bars[e],e instanceof Smart.SplitterBar?void(e.isCompleted?e.hide():(e.__onCompleted=e._onCompleted,e._onCompleted=function(){e.__onCompleted&&(e.__onCompleted(),delete e.__onCompleted),e.hide()})):void t.error(t.localize("indexOutOfBound",{elementType:t.nodeName.toLowerCase(),method:"hideBar"}))):void t.error(t.localize("invalidIndex",{elementType:t.nodeName.toLowerCase(),method:"hideBar"}))}get items(){const e=this;if(e.isReady){const t=e.$.container.children;let s=[];for(let e=0;e<t.length;e++)(t[e]instanceof Smart.SplitterItem||"Smart-SPLITTER-ITEM"===t[e].tagName)&&s.push(t[e]);return s}}insert(e,t){const i=this;if("string"==typeof t&&(t={content:t}),!t||"object"!=typeof t)return void i.error(i.localize("invalidSettings",{elementType:i.nodeName.toLowerCase(),method:"insert"}));if("number"!=typeof e)return void i.error(i.localize("invalidIndex",{elementType:i.nodeName.toLowerCase(),method:"insert"}));const s=t instanceof Smart.SplitterItem?t:i._createItem(t);e>=i._items.length||0===i._items.length?i.appendChild(s):i.insertBefore(s,i._items[e])}lockItem(e){const t=this;return e instanceof Smart.SplitterItem?void e.lock():"number"==typeof e&&t._items[e]?void(e=t._items[e],e.isCompleted?e.lock():(e.__onCompleted=e._onCompleted,e._onCompleted=function(){e.__onCompleted&&(e.__onCompleted(),delete e.__onCompleted),e.lock()})):void t.error(t.localize("invalidIndex",{elementType:t.nodeName.toLowerCase(),method:"lockItem"}))}lockBar(e){const t=this;return e instanceof Smart.SplitterBar?void e.lock():"number"==typeof e?void(e=t.bars[e],e.isCompleted?e.lock():(e.__onCompleted=e._onCompleted,e._onCompleted=function(){e.__onCompleted&&(e.__onCompleted(),delete e.__onCompleted),e.lock()})):void t.error(t.localize("invalidIndex",{elementType:t.nodeName.toLowerCase(),method:"lockBar"}))}ready(){const e=this;super.ready();const t=e.$.hasClass("animation");e.$.removeClass("animation"),e._createLayout(),e._setFocusable(),t&&e.$.addClass("animation")}remove(e){const t=this;return e instanceof Smart.SplitterItem&&e.closest("smart-splitter")===t?void t.removeChild(e):"number"==typeof e?e>t._items.length||0>e?void t.error(t.localize("indexOutOfBound",{elementType:t.nodeName.toLowerCase(),method:"remove"})):void t.removeChild(t._items[e]):void t.error(t.localize("invalidIndex",{elementType:t.nodeName.toLowerCase(),method:"remove"}))}removeAll(){const e=this;e._items=[],e.$.container.innerHTML=""}showBar(e){const t=this;return e instanceof Smart.SplitterBar?void e.show():"number"==typeof e?(e=t.bars[e],e instanceof Smart.SplitterBar?void(e.isCompleted?e.show():(e.__onCompleted=e._onCompleted,e._onCompleted=function(){e.__onCompleted&&(e.__onCompleted(),delete e.__onCompleted),e.show()})):void t.error(t.localize("indexOutOfBound",{elementType:t.nodeName.toLowerCase(),method:"showBar"}))):void t.error(t.localize("invalidIndex",{elementType:t.nodeName.toLowerCase(),method:"showBar"}))}get bars(){const e=this;if(e.isReady){const t=e.$.container.children;let s=[];for(let e=0;e<t.length;e++)(t[e]instanceof Smart.SplitterBar||"Smart-SPLITTER-BAR"===t[e].tagName)&&s.push(t[e]);return s}}unlockItem(e){const t=this;return e instanceof Smart.SplitterItem?void e.unlock():"number"==typeof e&&t._items[e]?void(e=t._items[e],e.isCompleted?e.unlock():(e.__onCompleted=e._onCompleted,e._onCompleted=function(){e.__onCompleted&&(e.__onCompleted(),delete e.__onCompleted),e.unlock()})):void t.error(t.localize("invalidIndex",{elementType:t.nodeName.toLowerCase(),method:"unlockItem"}))}unlockBar(e){const t=this;return e instanceof Smart.SplitterBar?void e.unlock():"number"==typeof e?void(e=t.bars[e],e.isCompleted?e.unlock():(e.__onCompleted=e._onCompleted,e._onCompleted=function(){e.__onCompleted&&(e.__onCompleted(),delete e.__onCompleted),e.unlock()})):void t.error(t.localize("invalidIndex",{elementType:t.nodeName.toLowerCase(),method:"unlockBar"}))}_autoFitLastItem(){const e=this,t=e._items.length;if(0===t)return;let s;for(let a=t-1;0<=a;a--)if(!e._items[a].collapsed){s=e._items[a];break}let i=0;if(e._items.indexOf(s)!==t-1)for(let t=s.nextElementSibling;t;)t instanceof Smart.SplitterBar&&(i+=t[e._measurements.size]),t=t.nextElementSibling;s[e._measurements.offset]<e.$.container[e._measurements.size]&&(s.style[e._measurements.dimension]=(s._sizeBeforeCollapse=e.$.container[e._measurements.size]-s[e._measurements.offset]-i)+"px",s._sizeLimits[e._measurements.maxDimension]&&s._sizeBeforeCollapse>s._sizeLimits[e._measurements.maxDimension]&&(s.style[e._measurements.maxDimension]=(s._sizeLimits[e._measurements.maxDimension]=s._sizeBeforeCollapse)+"px"))}_createLayout(){const e=this;if(e._items=[],"string"==typeof e.dataSource&&(e.dataSource=JSON.parse(e.dataSource)),null!==e.dataSource&&e.dataSource instanceof Array){e.$.container.innerHTML="";let t,s=document.createDocumentFragment();for(let a=0;a<e.dataSource.length;a++)t=e._createItem(e.dataSource[a]),s.appendChild(t);return void e._handleSplitterBars(s)}e._handleSplitterBars(e.$.container)}_createBar(e){const t=document.createElement("smart-splitter-bar");return e.collapsible&&(t.showNearButton=!0),e.nextElementSibling&&e.nextElementSibling.collapsible&&(t.showFarButton=!0),t}_createItem(e){const t=document.createElement("smart-splitter-item");return e.id&&(t.id=e.id),t.innerHTML=e.content||"",t.collapsible=e.collapsible||!1,t.collapsed=e.collapsed||!1,t.locked=e.locked||!1,e.max&&(t.max=e.max),e.min&&(t.min=e.min),e.size&&(t.size=e.size),t}_completeResizing(e){const t=this;if(t._dragDetails){if(t._splitBarDummy&&t._splitBarDummy.parentElement){if(!e){if(t._dragDetails.firstItem.style[t._measurements.dimension]=(t._dragDetails.firstItem._sizeBeforeCollapse=t._dragDetails.firstItem.currentSize+t._dragDetails.firstItem._paddings)+"px",delete t._dragDetails.firstItem._originalSize,"proportional"!==t.resizeMode)t._dragDetails.secondItem.style[t._measurements.dimension]=(t._dragDetails.secondItem._sizeBeforeCollapse=t._dragDetails.splitAreaSize-t._dragDetails.firstItem.currentSize+t._dragDetails.secondItem._paddings)+"px",delete t._dragDetails.secondItem._originalSize;else{const e=t._dragDetails.itemProportions.length;if(1<e)for(let i=0;i<e;i++)t._dragDetails.itemProportions[i].item.style[t._measurements.dimension]=(t._dragDetails.itemProportions[i].item._sizeBeforeCollapse=t._dragDetails.itemProportions[i].currentSize+t._dragDetails.itemProportions[i].item._paddings)+"px",delete t._dragDetails.itemProportions[i]._originalSize;else t._dragDetails.secondItem[0].style[t._measurements.dimension]=(t._dragDetails.secondItem[0]._sizeBeforeCollapse=Math.floor(t._dragDetails.splitAreaSize-t._dragDetails.firstItem.currentSize+t._dragDetails.firstItem._paddings))+"px",delete t._dragDetails.secondItem[0]._originalSize}t.$.fireEvent("resizeEnd",{firstItem:{index:t._items.indexOf(t._dragDetails.firstItem),size:t._dragDetails.firstItem[t._measurements.size]},secondItem:t._dragDetails.secondItem instanceof Array?{index:t._dragDetails.secondItem.map(e=>t._items.indexOf(e)),size:t._dragDetails.secondItem.map(e=>e[t._measurements.size])}:{index:t._items.indexOf(t._dragDetails.secondItem),size:t._dragDetails.secondItem[t._measurements.size]}})}t._splitBarDummy.classList.remove("limit-reached"),t._splitBarDummy.parentElement.removeChild(t._splitBarDummy)}t.removeAttribute("dragged"),delete t._dragDetails,delete t._keyboardResizing}}_downHandler(e){const t=this;if(!t.disabled){if(t._keyboardResizing)return void t._completeResizing();const i=e.originalEvent.target.closest("smart-splitter-bar");if(i&&i.closest("smart-splitter")===t){if(e.originalEvent.target.closest(".smart-splitter-near-collapse-button")===i.$.nearCollapseButton)return void(t._collapseButtonPressed={splitBar:i,item:i.previousElementSibling,target:i.$.nearCollapseButton,farCollapse:!1});if(e.originalEvent.target.closest(".smart-splitter-far-collapse-button")===i.$.farCollapseButton)return void(t._collapseButtonPressed={splitBar:i,item:i.nextElementSibling,target:i.$.farCollapseButton,farCollapse:!0});i.itemCollapsed||i.locked||"none"===t.resizeMode||t._setDragDetails(i,e)}}}_documentMoveHandler(e){const t=this;t._keyboardResizing||t._resize(e)}_documentUpHandler(e){const t=this;return(t.removeAttribute("dragging-not-allowed"),t.disabled)?(delete t._dragDetails,void delete t._collapseButtonPressed):(t._completeResizing(),t._collapseButtonPressed&&e.originalEvent.target.closest("."+t._collapseButtonPressed.target.classList[0])===t._collapseButtonPressed.target)?(t._collapseButtonPressed.item.collapsed?t.expand(t._collapseButtonPressed.item):t.collapse(t._collapseButtonPressed.item,t._collapseButtonPressed.farCollapse),void delete t._collapseButtonPressed):void 0}_ensureItemsReady(e,t){const s=this,i=function(){const i=function(t){for(let s=0;s<e.length;s++)e[s].context="node"===t?e[s]:document};i("node"),t(),i()};if(0===e.length)i();else{s._nodesReadyListeners=0;for(let t=0;t<e.length;t++){const a=e[t],n=function(){s._nodesReadyListeners--,0===s._nodesReadyListeners&&(i(),delete s._nodesReadyListeners)}.bind(s);a.isCompleted||(s._nodesReadyListeners++,a._onCompleted=n)}0===s._nodesReadyListeners&&i()}}_focusHandler(e){const t=this;"focus"===e.type?t.setAttribute("focused",""):t.removeAttribute("focused")}_getTargetItem(e,t){const i=this;for(let s=t?i._items[i._items.length-1]:i._dragDetails.splitter[e];s;){if(s instanceof Smart.SplitterItem&&!s.collapsed){if(!s.locked)return s;i._dragDetails.firstItem||(i._dragDetails.lockedItemsSize+=s[i._measurements.size]+(s.previousElementSibling instanceof Smart.SplitterBar?s.previousElementSibling[i._measurements.size]:0))}s=s[e]}delete i._dragDetails}_handleSplitterBars(e){const t=this;if(1>t._items.length&&(t._items=e.parentElement?t.items:Array.from(e.children)),t._measurements||t._setMeasurements(),2>t._items.length){const s=t.bars;for(let t=0;t<s.length;t++)e.removeChild(s[t]);return}for(let s=0;s<t._items.length;s++)t._items[s].style["horizontal"===t.orientation?"width":"height"]="100%",t._items[s].style["max"+t._measurements.restricredDimension]="none",t._items[s].style[t._measurements.maxDimension]=t._items[s].max?t._items[s]._sizeLimits[t._measurements.maxDimension]+"px":"",t._items[s].collapsed?(t._items[s].style.minWidth=t._items[s].style.minHeight="",t._items[s].style[t._measurements.minDimension]="0"):t._items[s].style[t._measurements.minDimension]=t._items[s]._sizeLimits&&t._items[s].min?t._items[s]._sizeLimits[t._measurements.minDimension]+"px":"",t._items[s].nextElementSibling&&(t._items[s].nextElementSibling instanceof Smart.SplitterItem?t._items[s].parentNode.insertBefore(t._createBar(t._items[s]),t._items[s].nextElementSibling):t._items[s].parentNode.removeChild(t._items[s].nextElementSibling));e.parentElement||t.$.container.appendChild(e),t._ensureItemsReady(t._items,t._validateItemSize.bind(t))}_keyDownHandler(e){const t=this;if(t.disabled)return;if("w"===e.key&&e.altKey){const e=t.querySelector("smart-splitter-bar");return document.activeElement!==e&&t._completeResizing(!0),void t.querySelector("smart-splitter-bar").focus()}let i=document.activeElement;if(!e.ctrlKey&&t._splitBarDummy&&t._splitBarDummy.parentElement)i=t._splitBarDummy;else if(!(i instanceof Smart.SplitterBar))return;if(i.closest("smart-splitter")===t)switch(e.key){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":{if(("ArrowUp"===e.key||"ArrowDown"===e.key)&&"vertical"===t.orientation)return;if(("ArrowLeft"===e.key||"ArrowRight"===e.key)&&"horizontal"===t.orientation)return;e.preventDefault();const s="ArrowLeft"===e.key||"ArrowUp"===e.key?-1:1;if(e.ctrlKey){t._completeResizing(!0);let e,a;return 0>s?(a=i.previousElementSibling,e=i.nextElementSibling):(e=i.previousElementSibling,a=i.nextElementSibling),void(e.collapsed?e.expand():a.collapse(0<s))}if(i.locked)return;if("none"===t.resizeMode)return;t._keyboardResizing=!0;let a;t._dragDetails?a=t._dragDetails.position+s*t.resizeStep:(t._setDragDetails(i),a=i[t._measurements.offset]+s*t.resizeStep),t._resize({pageX:a,pageY:a});break}case"Enter":t._completeResizing();break;case"Escape":case"Tab":t._completeResizing(!0);}}_mouseEventsHandler(e){"mouseenter"===e.type?this.$.addClass("hovered"):this.$.removeClass("hovered")}_recalcItemSize(e,t,i){var s=Math.max,a=Math.min;const n=this;let r,m;if(i||(i=t),0<e)for(let a=0;a<t;a++)m=n._dragDetails.itemProportions[a].item._sizeLimits[n._measurements.minDimension],n._dragDetails.itemProportions[a].currentSize>m&&(r=n._dragDetails.itemProportions[a].currentSize-m<e/i?n._dragDetails.itemProportions[a].currentSize-m:e/i,e-=r,n._dragDetails.itemProportions[a].currentSize=s(m,n._dragDetails.itemProportions[a].currentSize-r),delete n._dragDetails.itemProportions[a]._originalSize),i=s(1,i-1);else{const m=n._dragDetails.splitAreaSize-n._dragDetails.firstItem.currentSize-(1<t?n._dragDetails.secondItemTotalMinSize-n._dragDetails.itemProportions[0].item._sizeLimits[n._measurements.minDimension]:0);let o;for(let l=0;l<t;l++)o=n._dragDetails.itemProportions[l].item._sizeLimits[n._measurements.maxDimension]?a(n._dragDetails.itemProportions[l].item._sizeLimits[n._measurements.maxDimension],m):m,n._dragDetails.itemProportions[l].currentSize<o&&(r=n._dragDetails.itemProportions[l].currentSize-e/i>o?-1*(o-n._dragDetails.itemProportions[l].currentSize):e/i,e-=r,n._dragDetails.itemProportions[l].currentSize=a(o,n._dragDetails.itemProportions[l].currentSize-r),delete n._dragDetails.itemProportions[l]._originalSize),i=s(1,i-1)}.1<Math.abs(e)&&n._recalcItemSize(e,t,i)}_resize(e){var t=Math.abs,i=Math.floor,s=Math.max,a=Math.min;const n=this;if(!n._dragDetails)return;let r,m=e[n._measurements.pagePosition]-n._dragDetails.position;const o=Math.sign(m),l=n._dragDetails.firstItem._sizeLimits[n._measurements.minDimension],d=n._dragDetails.firstItem._sizeLimits[n._measurements.maxDimension];let _,p;if(n.hasAttribute("dragged")||n.$.fireEvent("resizeStart",{firstItem:{index:n._items.indexOf(n._dragDetails.firstItem),size:n._dragDetails.firstItem[n._measurements.size]},secondItem:n._dragDetails.secondItem instanceof Array?{index:n._dragDetails.secondItem.map(e=>n._items.indexOf(e)),size:n._dragDetails.secondItem.map(e=>e[n._measurements.size])}:{index:n._items.indexOf(n._dragDetails.secondItem),size:n._dragDetails.secondItem[n._measurements.size]}}),n.setAttribute("dragged",""),t(m)<n.resizeStep)return;let u=s(n.resizeStep,i(t(m)/n.resizeStep)*n.resizeStep);const g=m-o*u;switch(n.resizeMode){case"adjacent":case"end":for(0<o?(_=n._dragDetails.splitAreaSize-n._dragDetails.firstItem.currentSize,p=()=>_-n._dragDetails.secondItemTotalMinSize>=u||d&&n._dragDetails.firstItem.currentSize+n.resizeStep<=d,r=()=>d&&n._dragDetails.firstItem.currentSize===d||_-n.resizeStep<=n._dragDetails.secondItemTotalMinSize):(_=n._dragDetails.firstItem.currentSize,p=()=>_-l>=u||n._dragDetails.secondItemTotalMaxSize&&n._dragDetails.splitAreaSize-n._dragDetails.firstItem.currentSize+n.resizeStep<=n._dragDetails.secondItemTotalMaxSize,r=()=>n._dragDetails.secondItemTotalMaxSize&&n._dragDetails.splitAreaSize-n._dragDetails.firstItem.currentSize===n._dragDetails.secondItemTotalMaxSize||_-n.resizeStep<=l);0<u;)p()&&n._resizeItem(e,o*n.resizeStep,g),u-=n.resizeStep;break;case"proportional":{const m=n._dragDetails.splitAreaSize-n._dragDetails.firstItem.currentSize;0<o?(_=t(m-n._dragDetails.secondItemTotalMinSize),p=()=>_>=u||d&&n._dragDetails.firstItem.currentSize+n.resizeStep<=d,r=()=>d&&n._dragDetails.firstItem.currentSize===d||n._dragDetails.splitAreaSize-n._dragDetails.firstItem.currentSize-n.resizeStep<n._dragDetails.secondItemTotalMinSize):(_=n._dragDetails.firstItem.currentSize,p=()=>_-l>=u&&(!n._dragDetails.secondItemTotalMaxSize||n._dragDetails.splitAreaSize-n._dragDetails.firstItem.currentSize+n.resizeStep<=n._dragDetails.secondItemTotalMaxSize),r=()=>n._dragDetails.secondItemTotalMaxSize&&n._dragDetails.splitAreaSize+n.resizeStep-n._dragDetails.firstItem.currentSize>=n._dragDetails.secondItemTotalMaxSize||n._dragDetails.firstItem.currentSize-n.resizeStep<l);for(let e;0<u;)p()&&(e=a(d?a(d,n._dragDetails.splitAreaSize-n._dragDetails.secondItemTotalMinSize):n._dragDetails.splitAreaSize-n._dragDetails.secondItemTotalMinSize,s(l,n._dragDetails.firstItem.currentSize+o*n.resizeStep)),n._dragDetails.firstItem.currentSize=n._dragDetails.firstItem._sizeBeforeCollapse=i(e)),u-=n.resizeStep;const c=n._dragDetails.splitAreaSize-n._dragDetails.firstItem.currentSize,z=n._dragDetails.itemProportions.length;if(n._recalcItemSize(m-c,z),!n.liveResize)n._splitBarDummy.style[n._measurements.position]=n._dragDetails.firstItem[n._measurements.offset]+n._dragDetails.firstItem.currentSize+n._dragDetails.lockedItemsSize+n._dragDetails.firstItem._paddings+"px";else if(n._dragDetails.firstItem.style[n._measurements.dimension]=n._dragDetails.firstItem.currentSize+n._dragDetails.firstItem._paddings+"px",1<z)for(let e=0;e<z;e++)n._dragDetails.itemProportions[e].item.style[n._measurements.dimension]=n._dragDetails.itemProportions[e].item._sizeBeforeCollapse=n._dragDetails.itemProportions[e].currentSize+n._dragDetails.itemProportions[e].item._paddings+"px";else n._dragDetails.secondItem[0].style[n._measurements.dimension]=(n._dragDetails.secondItem[0]._sizeBeforeCollapse=i(c+n._dragDetails.itemProportions[0].item._paddings))+"px";const D=n._dragDetails.firstItem.getBoundingClientRect()["vertical"===n.orientation?"left":"top"]+n._dragDetails.splitBarOffset,S=d&&n._dragDetails.splitAreaSize-d>n._dragDetails.secondItemTotalMinSize?d:n._dragDetails.splitAreaSize-n._dragDetails.secondItemTotalMinSize;n._dragDetails.position=s(D+(n._dragDetails.secondItemTotalMaxSize?s(n._dragDetails.splitAreaSize-n._dragDetails.secondItemTotalMaxSize,l):l)+n._dragDetails.lockedItemsSize+n._dragDetails.firstItem._paddings,a(D+S+n._dragDetails.lockedItemsSize+n._dragDetails.firstItem._paddings,e[n._measurements.pagePosition]-g));break}}n.liveResize||(r()?n._splitBarDummy.classList.add("limit-reached"):n._splitBarDummy.classList.remove("limit-reached")),n._validateBarsSize()}_resizeEventHandler(){this._validateItemSize()}_resizeItem(e,t,i){var s=Math.max,a=Math.min;const n=this;let r=s(n._dragDetails.firstItem._sizeLimits[n._measurements.minDimension],a(n._dragDetails.splitAreaSize-n._dragDetails.secondItem._sizeLimits[n._measurements.minDimension],n._dragDetails.firstItem._sizeLimits[n._measurements.maxDimension]?a(n._dragDetails.firstItem._sizeLimits[n._measurements.maxDimension],n._dragDetails.firstItem.currentSize+t):n._dragDetails.firstItem.currentSize+t)),m=n._dragDetails.firstItem._sizeLimits[n._measurements.minDimension];n._dragDetails.secondItem._sizeLimits[n._measurements.maxDimension]&&n._dragDetails.splitAreaSize-r>n._dragDetails.secondItem._sizeLimits[n._measurements.maxDimension]&&(m=r=n._dragDetails.splitAreaSize-n._dragDetails.secondItem._sizeLimits[n._measurements.maxDimension]),n._dragDetails.firstItem.currentSize=r,n.liveResize?(n._dragDetails.firstItem.style[n._measurements.dimension]=(n._dragDetails.firstItem._sizeBeforeCollapse=r+n._dragDetails.firstItem._paddings)+"px",n._dragDetails.secondItem.style[n._measurements.dimension]=(n._dragDetails.secondItem._sizeBeforeCollapse=n._dragDetails.splitAreaSize-r+n._dragDetails.firstItem._paddings)+"px",delete n._dragDetails.firstItem._originalSize,delete n._dragDetails._originalSize):n._splitBarDummy.style[n._measurements.position]=n._dragDetails.firstItem[n._measurements.offset]+r+n._dragDetails.lockedItemsSize+n._dragDetails.firstItem._paddings+"px";const o=n._dragDetails.firstItem.getBoundingClientRect()["vertical"===n.orientation?"left":"top"]+n._dragDetails.splitBarOffset;n._dragDetails.position=s(o+m+n._dragDetails.firstItem._paddings,a(o+n._dragDetails.splitAreaSize-n._dragDetails.secondItem._sizeLimits[n._measurements.minDimension]+n._dragDetails.lockedItemsSize+n._dragDetails.firstItem._paddings,e[n._measurements.pagePosition]-i)),n._dragDetails.firstItem._sizeLimits[n._measurements.maxDimension]&&(n._dragDetails.position=a(o+n._dragDetails.firstItem._sizeLimits[n._measurements.maxDimension],n._dragDetails.position))}_setFocusable(){const e=this;return e.disabled||e.unfocusable?void e.removeAttribute("tabindex"):void(e.tabIndex=0<e.tabIndex?e.tabIndex:0)}_setDragDetails(e,t){const i=this;if(i._dragDetails={},i._measurements||i._setMeasurements(),i._dragDetails.splitter=e,i._dragDetails.scrollAmount=e.parentElement[i._measurements.scroll],i._dragDetails.lockedItemsSize=0,!(i._dragDetails.firstItem=i._getTargetItem("previousElementSibling")))return delete i._dragDetails,void i.setAttribute("dragging-not-allowed","");i._dragDetails.firstItem.currentSize=i._dragDetails.firstItem[i._measurements.size];let s=getComputedStyle(i._dragDetails.firstItem);if(i._dragDetails.firstItem._paddings=(parseFloat(s.getPropertyValue("padding-"+i._measurements.position))||0)+(parseFloat(s.getPropertyValue("padding-"+i._measurements.position2))||0),i._dragDetails.firstItem.currentSize<i._dragDetails.firstItem._sizeLimits[i._measurements.minDimension])return void delete i._dragDetails;if(i._dragDetails.firstItem.currentSize-=i._dragDetails.firstItem._paddings,i._dragDetails.splitAreaSize=0,i._dragDetails.secondItemTotalMaxSize=0,i._dragDetails.secondItemTotalMinSize=0,"proportional"===i.resizeMode){if(i._setProportionalDetails())return;}else if(i._setAdjacentOrEndDetails())return;let a;t&&"object"==typeof t?a=e.getBoundingClientRect()[i._measurements.position]:(t={pageX:e[i._measurements.offset],pageY:e[i._measurements.offset]},a=e[i._measurements.offset]),i._dragDetails.position=t[i._measurements.pagePosition],i._dragDetails.splitBarOffset=i._dragDetails.position-a,i.liveResize||(!i._splitBarDummy&&(i._splitBarDummy=document.createElement("div"),i._splitBarDummy.classList.add("smart-splitter-bar-dummy")),i._splitBarDummy.style.width=e.offsetWidth+"px",i._splitBarDummy.style.height=e.offsetHeight+"px",i._splitBarDummy.style.top=e.offsetTop+"px",i._splitBarDummy.style.left=e.offsetLeft+"px",e.parentElement.appendChild(i._splitBarDummy))}_setAdjacentOrEndDetails(){const e=this;if(!(e._dragDetails.secondItem="adjacent"===e.resizeMode?e._getTargetItem("nextElementSibling"):e._getTargetItem("previousElementSibling",!0)))return delete e._dragDetails,e.setAttribute("dragging-not-allowed",""),!0;e._dragDetails.secondItem.currentSize=e._dragDetails.secondItem[e._measurements.size];const t=getComputedStyle(e._dragDetails.secondItem);e._dragDetails.secondItem._paddings=(parseFloat(t.getPropertyValue("padding-"+e._measurements.position))||0)+(parseFloat(t.getPropertyValue("padding-"+e._measurements.position2))||0),e._dragDetails.secondItem.currentSize-=e._dragDetails.secondItem._paddings,e._dragDetails.splitAreaSize=e._dragDetails.firstItem.currentSize+e._dragDetails.secondItem.currentSize,e._dragDetails.secondItemTotalMaxSize=e._dragDetails.secondItem._sizeLimits[e._measurements.maxDimension],e._dragDetails.secondItemTotalMinSize=e._dragDetails.secondItem._sizeLimits[e._measurements.minDimension]}_setMeasurements(){const e=this;e._measurements={},"horizontal"===e.orientation?(e._measurements.dimension="height",e._measurements.minDimension="minHeight",e._measurements.maxDimension="maxHeight",e._measurements.restricredDimension="Width",e._measurements.size="offsetHeight",e._measurements.offset="offsetTop",e._measurements.position="top",e._measurements.position2="bottom",e._measurements.pagePosition="pageY",e._measurements.scroll="scrollTop"):(e._measurements.dimension="width",e._measurements.minDimension="minWidth",e._measurements.maxDimension="maxWidth",e._measurements.restricredDimension="Height",e._measurements.size="offsetWidth",e._measurements.offset="offsetLeft",e._measurements.position="left",e._measurements.position2="right",e._measurements.pagePosition="pageX",e._measurements.scroll="scrollLeft"),e._measurements.overflow=getComputedStyle(e).getPropertyValue("overflow")}_setProportionalDetails(){const e=this;if(e._dragDetails.secondItem=e._items.slice(e._items.indexOf(e._dragDetails.firstItem)+1).filter(e=>!e.collapsed&&!e.locked),0===e._dragDetails.secondItem.length)return delete e._dragDetails,!0;e._dragDetails.splitAreaSize+=e._dragDetails.firstItem.currentSize,e._dragDetails.itemProportions=[];let t;for(let s=0;s<e._dragDetails.secondItem.length;s++){e._dragDetails.secondItem[s].currentSize=e._dragDetails.secondItem[s][e._measurements.size];const i=getComputedStyle(e._dragDetails.secondItem[s]);e._dragDetails.secondItem[s]._paddings=(parseFloat(i.getPropertyValue("padding-"+e._measurements.position))||0)+(parseFloat(i.getPropertyValue("padding-"+e._measurements.position2))||0),e._dragDetails.secondItem[s].currentSize-=e._dragDetails.secondItem[s]._paddings,e._dragDetails.splitAreaSize+=e._dragDetails.secondItem[s].currentSize,e._dragDetails.itemProportions.push({item:e._dragDetails.secondItem[s],currentSize:e._dragDetails.secondItem[s].currentSize}),e._dragDetails.secondItem[s]._sizeLimits[e._measurements.maxDimension]||(t=!0),e._dragDetails.secondItemTotalMinSize+=e._dragDetails.secondItem[s]._sizeLimits[e._measurements.minDimension],e._dragDetails.secondItemTotalMaxSize+=e._dragDetails.secondItem[s]._sizeLimits[e._measurements.maxDimension]}t&&(e._dragDetails.secondItemTotalMaxSize=0)}_validateBarsSize(){const e=this;let t=e._items[0];const s="offset"+e._measurements.restricredDimension,i=e.bars;if(0!==i.length){for(let a=0;a<e._items.length;a++)e._items[a][s]>t[s]&&(t=e._items[a]);t[s]!==i[0][s]&&i.map(i=>i.style[e._measurements.restricredDimension.toLowerCase()]=t[s]+"px")}}_validateItemSize(e){const t=this;if("scroll"===t._measurements.overflow||"auto"===t._measurements.overflow)return void t._autoFitLastItem();let i=0,s=0;t._items.map(e=>i+=e[t._measurements.size]),t.bars.map(e=>s+=e[t._measurements.size]);let a=i+s-t.$.container[t._measurements.size];0<a?t._validateItemsSizeOverflowing(a,e):t._validateItemsSizeUnderflowing(a,e),t._autoFitLastItem(),t._validateBarsSize()}_validateItemsSizeOverflowing(e,t){var s=Math.max;const a=this,n=a._items.length;let r,m=0;for(let o=n-1;0<=o&&!(!a._items[o].collapsed&&(r=a._items[o][a._measurements.size],a._items[o]._originalSize||(a._items[o]._originalSize=r),m=r-e,a._items[o].style[a._measurements.dimension]=(a._items[o]._sizeBeforeCollapse=s(a._items[o]._sizeLimits[a._measurements.minDimension],m))+"px",e-=r-a._items[o][a._measurements.size],m>=a._items[o]._sizeLimits[a._measurements.minDimension]));o--);if(0<e)for(let o=n-1;0<=o;o--)a._items[o].collapsed||(r=a._items[o][a._measurements.size],m=r-e,(a._items[o]._sizeLimits[a._measurements.minDimension]||a._items[o].min)&&(a._items[o]._sizeLimits.ignoreUpdate=!t,a._items[o].style[a._measurements.minDimension]=s(0,m)+"px"),a._items[o]._sizeLimits.ignoreUpdate=!t,a._items[o].style[a._measurements.dimension]=(a._items[o]._sizeBeforeCollapse=s(0,m))+"px",e-=r-a._items[o][a._measurements.size])}_validateItemsSizeUnderflowing(e,t){var s=Math.min;const a=this,n=a._items.length;let r,m=0;e=Math.abs(e);for(let o=0;o<n&&!(!(a._items[o].collapsed||a._items[o][a._measurements.size]>=a._items[o]._sizeLimits[a._measurements.minDimension])&&(r=a._items[o][a._measurements.size],m=a._items[o][a._measurements.size]+e,a._items[o][a._measurements.size]<a._items[o]._sizeLimits[a._measurements.minDimension]&&(a._items[o]._sizeLimits.ignoreUpdate=!t,a._items[o].style[a._measurements.minDimension]=(a._items[o]._sizeBeforeCollapse=s(a._items[o]._sizeLimits[a._measurements.minDimension],m))+"px"),e-=a._items[o][a._measurements.size]-r,0>=e));o++);if(0<e)for(let t=0;t<n;t++)if(!a._items[t].collapsed&&a._items[t]._originalSize){if(a._items[t][a._measurements.size]>=a._items[t]._originalSize){delete a._items[t]._originalSize;break}else m=a._items[t][a._measurements.size]+e,a._items[t][a._measurements.minDimension]<a._items[t]._sizeLimits[a._measurements.minDimension]&&(a._items[t].style[a._measurements.minDimension]=s(a._items[t]._sizeLimits[a._measurements.minDimension],m)+"px"),a._items[t].style[a._measurements.dimension]=(a._items[t]._sizeBeforeCollapse=s(m,a._items[t]._originalSize))+"px",e=m-a._items[t]._originalSize;if(0>=e)break}}});